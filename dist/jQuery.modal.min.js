$.fn.modal=function(a){var s=$.extend({padding:!0,style:"white",defaultStyle:!0,close:!1,closeAddClass:!1},a);return this.each(function(){function a(){e.parent(".modal-wrap").fadeIn(250),e.fadeIn(1e3),$("body").css({overflow:"hidden"})}function d(){e.parent(".modal-wrap").fadeOut(500),$("body").css({overflow:"auto"})}var o=$(this),e=$(o.attr("href")),c="";switch(e.addClass("modal").wrap('<div class="modal-wrap">').wrapInner('<div class="modal-content">'),s.padding?e.css({padding:"40px"}):e.css({padding:"0"}),s.defaultStyle&&e.css({"background-color":"#FFF",color:"#333","box-shadow":"4px 4px 15px 0 rgba(0,0,0,.2)"}),s.style){case"dark":e.parent(".modal-wrap").css({"background-color":"rgba(0,0,0,.7)"});break;case"white":e.parent(".modal-wrap").css({"background-color":"rgba(255,255,255,.9)"});break;default:e.parent(".modal-wrap").css({"background-color":"rgba(255,255,255,.9)"})}if(!1===s.close?(e.prepend('<span class="modal-close"></span>'),(c=e.find(".modal-close")).css({})):c=e.find(s.close),!1!==s.closeAddClass){var l=s.closeAddClass;"."==l[0]&&(l=l.substr(1,l.length)),c.addClass(l)}c.click(function(){d()}),o.click(function(s){s.preventDefault(),a()}),$(document).mouseup(function(a){e.is(a.target)||0!==e.has(a.target).length||d()})})};